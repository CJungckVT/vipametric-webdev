var React = require('react');

jQuery(function($) {

	var MultiDayEngagementGoals = React.createClass({
		render: function() {
			return (
				<div></div>
			);
		}
	});

	var MultiDayEngagementData = React.createClass({
		render: function() {
			return (
				<div>
					<div className="EventResults sub-section" >
						<div className="sub-section-header" >
							Friday Welcome Coupon Giveaway
							<span  className="metric-set-value-count metric-set-id-6375">(2 of 2 values entered)</span>
						</div>
						<div  className="miwt-collapsable prop-wrapper metric-set-container prop-gen prop-viewer shown" data-disposition="inline" data-exclusive="false">
							<input type="hidden" name="js-bx122-645-192"  value="false" />
							<button className="btn trigger" ></button>
							<div className="miwt-collapsable-content">
								<div className="prop-body" >
									<div className="prop-group kpi" >
										<div className="prop-group-goal-title" ><span className="goal-title">Goals</span><span className="goal-actuals">Actuals</span></div>
										<div className="prop-group-title" >&nbsp;</div>
										<div className="metric-group props" >
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Coupons Given Out</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >1,000</span></div>
													<div className="prop value-component" ><span className="val" >1,100</span></div>
												</div>
											</div>
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Coupons Redeemed</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >100</span></div>
													<div className="prop value-component" ><span className="val" >95</span></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div className="EventResults sub-section" >
						<div className="sub-section-header" >
							Friday Booth Traffic
							<span  className="metric-set-value-count metric-set-id-6375">(3 of 3 values entered)</span>
						</div>
						<div  className="miwt-collapsable prop-wrapper metric-set-container prop-gen prop-viewer shown" data-disposition="inline" data-exclusive="false">
							<input type="hidden" name="js-bx122-645-192"  value="false" />
							<button className="btn trigger" ></button>
							<div className="miwt-collapsable-content">
								<div className="prop-body" >
									<div className="prop-group kpi" >
										<div className="prop-group-goal-title" ><span className="goal-title">Goals</span><span className="goal-actuals">Actuals</span></div>
										<div className="prop-group-title" >&nbsp;</div>
										<div className="metric-group props" >
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Giveaways</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >1,000</span></div>
													<div className="prop value-component" ><span className="val" >1,500</span></div>
												</div>
											</div>
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Emails Captured</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >400</span></div>
													<div className="prop value-component" ><span className="val" >600</span></div>
												</div>
											</div>
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Phone Numbers Captured</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >300</span></div>
													<div className="prop value-component" ><span className="val" >320</span></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div className="EventResults sub-section" >
						<div className="sub-section-header" >
							Saturday Main Stage Event
							<span  className="metric-set-value-count metric-set-id-6375">(7 of 7 values entered)</span>
						</div>
						<div  className="miwt-collapsable prop-wrapper metric-set-container prop-gen prop-viewer shown" data-disposition="inline" data-exclusive="false">
							<input type="hidden" name="js-bx122-645-192"  value="false" />
							<button className="btn trigger" ></button>
							<div className="miwt-collapsable-content">
								<div className="prop-body" >
									<div className="prop-group kpi" >
										<div className="prop-group-goal-title" ><span className="goal-title">Goals</span><span className="goal-actuals">Actuals</span></div>
										<div className="prop-group-title" >&nbsp;</div>
										<div className="metric-group props" >
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of T-shirts Given Away</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >1,000</span></div>
													<div className="prop value-component" ><span className="val" >1,000</span></div>
												</div>
											</div>
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Photos</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >64</span></div>
													<div className="prop value-component" ><span className="val" >50</span></div>
												</div>
											</div>
										</div>
									</div>
									<div className="prop-group consumer-profile" >
										<div className="metric-group props" >
											<div className="metric-container percentage-metric Age prop" >
												<span  className="vertical-label-component">Sentiment Analysis</span>
												<div className="value-component vertical-value-component" >
													<div className="metric-container metric-bucket 21-29" >
														<span  className="label-component">AT&amp;T</span>
														<div ><span className="metric-bucket value-component"  parent="Age">24.0</span><span  className="after-value-component">%</span></div>
													</div>
													<div className="metric-container metric-bucket 30-39" >
														<span  className="label-component">Verizon</span>
														<div ><span className="metric-bucket value-component"  parent="Age">30.0</span><span  className="after-value-component">%</span></div>
													</div>
													<div className="metric-container metric-bucket 40-49" >
														<span  className="label-component">Sprint</span>
														<div ><span className="metric-bucket value-component"  parent="Age">36.0</span><span  className="after-value-component">%</span></div>
													</div>
													<div className="metric-container metric-bucket 50-59" >
														<span  className="label-component">Other</span>
														<div ><span className="metric-bucket value-component"  parent="Age">10.0</span><span  className="after-value-component">%</span></div>
													</div>
													<div className="metric-container metric-bucket" >
														<span  className="label-component">Total:</span>
														<div className="value-component" ><span  parent="Age" className="percent-total">100.0</span><span >%</span></div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div className="prop-group default-group" >
										<div className="props" >
											<div className="metric-container string-metric EventSummary" >
												<span  className="label-component">Consumer Direct Quotes</span>
												<div ><div className="prop value-component" ><span className="val ta" >
													<div>Verizon is so expensive!</div>
													<div>I always lose signal as soon as I leave the city.</div>
													<div>My service is super spotty on the north side of town.</div>
													<div>I get great service pretty much everywhere, but my monthly bill is ridiculous.</div>
													<div>I hate that I'm on a contract, and have to wait 2 years to get a new phone.</div>
													<div>I don't use smartphones.</div>
													<div>I love my how reliable my service is, but I hate sharing data with my family. My brother always uses way too much.</div>
												</span></div></div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div className="EventResults sub-section" >
						<div className="sub-section-header" >
							Saturday Secondary Stage
							<span  className="metric-set-value-count metric-set-id-6375">(2 of 2 values entered)</span>
						</div>
						<div  className="miwt-collapsable prop-wrapper metric-set-container prop-gen prop-viewer shown" data-disposition="inline" data-exclusive="false">
							<input type="hidden" name="js-bx122-645-192"  value="false" />
							<button className="btn trigger" ></button>
							<div className="miwt-collapsable-content">
								<div className="prop-body" >
									<div className="prop-group kpi" >
										<div className="prop-group-goal-title" ><span className="goal-title">Goals</span><span className="goal-actuals">Actuals</span></div>
										<div className="prop-group-title" >&nbsp;</div>
										<div className="metric-group props" >
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of iPad games completed</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >300</span></div>
													<div className="prop value-component" ><span className="val" >278</span></div>
												</div>
											</div>
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Social Media Shares</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >100</span></div>
													<div className="prop value-component" ><span className="val" >92</span></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div className="EventResults sub-section" >
						<div className="sub-section-header" >
							Saturday Booth Traffic
							<span  className="metric-set-value-count metric-set-id-6375">(3 of 3 values entered)</span>
						</div>
						<div  className="miwt-collapsable prop-wrapper metric-set-container prop-gen prop-viewer shown" data-disposition="inline" data-exclusive="false">
							<input type="hidden" name="js-bx122-645-192"  value="false" />
							<button className="btn trigger" ></button>
							<div className="miwt-collapsable-content">
								<div className="prop-body" >
									<div className="prop-group kpi" >
										<div className="prop-group-goal-title" ><span className="goal-title">Goals</span><span className="goal-actuals">Actuals</span></div>
										<div className="prop-group-title" >&nbsp;</div>
										<div className="metric-group props" >
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Giveaways</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >1,500</span></div>
													<div className="prop value-component" ><span className="val" >1,500</span></div>
												</div>
											</div>
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Emails Captured</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >800</span></div>
													<div className="prop value-component" ><span className="val" >682</span></div>
												</div>
											</div>
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Phone Numbers Captured</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >500</span></div>
													<div className="prop value-component" ><span className="val" >481</span></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div className="EventResults sub-section" >
						<div className="sub-section-header" >
							Sunday Booth Traffic
							<span  className="metric-set-value-count metric-set-id-6375">(3 of 3 values entered)</span>
						</div>
						<div  className="miwt-collapsable prop-wrapper metric-set-container prop-gen prop-viewer shown" data-disposition="inline" data-exclusive="false">
							<input type="hidden" name="js-bx122-645-192"  value="false" />
							<button className="btn trigger" ></button>
							<div className="miwt-collapsable-content">
								<div className="prop-body" >
									<div className="prop-group kpi" >
										<div className="prop-group-goal-title" ><span className="goal-title">Goals</span><span className="goal-actuals">Actuals</span></div>
										<div className="prop-group-title" >&nbsp;</div>
										<div className="metric-group props" >
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Giveaways</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >1,000</span></div>
													<div className="prop value-component" ><span className="val" >1,000</span></div>
												</div>
											</div>
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Emails Captured</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >400</span></div>
													<div className="prop value-component" ><span className="val" >423</span></div>
												</div>
											</div>
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Phone Numbers Captured</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >300</span></div>
													<div className="prop value-component" ><span className="val" >210</span></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div className="EventResults sub-section" >
						<div className="sub-section-header" >
							Sunday Post Survey
							<span  className="metric-set-value-count metric-set-id-6375">(1 of 1 values entered)</span>
						</div>
						<div  className="miwt-collapsable prop-wrapper metric-set-container prop-gen prop-viewer shown" data-disposition="inline" data-exclusive="false">
							<input type="hidden" name="js-bx122-645-192"  value="false" />
							<button className="btn trigger" ></button>
							<div className="miwt-collapsable-content">
								<div className="prop-body" >
									<div className="prop-group kpi" >
										<div className="prop-group-goal-title" ><span className="goal-title">Goals</span><span className="goal-actuals">Actuals</span></div>
										<div className="prop-group-title" >&nbsp;</div>
										<div className="metric-group props" >
											<div className="metric-container numeric-metric BrandImpressions prop" >
												<span  className="label-component"># of Surveys completed</span>
												<div >
													<div className="prop value-component goal-component" ><span className="val" >750</span></div>
													<div className="prop value-component" ><span className="val" >762</span></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			);
		}
	});


	function getRandomInt(min, max) {
		return Math.floor(Math.random() * (max - min + 1)) + min;
	}

	function tempUpdates(context) {
		var $context = $(context);


		$context.find('.section.goals, .section.market-intelligence').wrapAll('<div class="primary-content" />');

		var surveys = [
			{
				name: "Pre-Event Survey",
				link: '/demo/survey',
				csv: '/somefile.csv'
			},
			{
				name: "RSVP",
				link: '/demo/survey',
				csv: '/somefile.csv'
			},
			{
				name: "In-Market Survey",
				link: '/demo/survey',
				csv: '/somefile.csv'
			},
			{
				name: "Post Event Survey",
				link: '/demo/survey',
				csv: '/somefile.csv'
			}
		];
		var surveyHtml = $.map(surveys, function(el, idx) {
			return [
				'<div class="survey-item">',
				'<div class="survey-item-header">',
				'<a href="' + el.link + '" class="survey-item-name" title="Go to external survey">' + el.name + '</a>',
				'</div>',
				'<div class="survey-item-info">',
				'<div class="survey-item-data">',
				'<span class="survey-item-data-count">' + getRandomInt(50, 150) + '</span>',
				'<span class="survey-item-data-text">Entries</span>',
				'<a class="btn btn-glyph-only btn-xsmall btn-download" href="/_resources/dyn/files/35859z271659/_fn/metric-data.csv" title="Download Data"><span class="btn-text">Download Data</span></a>',
				'</div>',
				'</div>',
				'</div>'
			].join('');
		}).join('');

		$([
			'<div class="section surveys">',
			'<div class="section-header">Surveys</div>',
			'<div class="section-content">',
			'<div class="survey-items">',
			surveyHtml,
			'</div>',
			'</div>',
			'</div>'
		].join(''))
			.prependTo($context.find('.primary-content'));

		var leads = [
			{
				name: "Emails",
				css: 'lead-email',
				csv: '/somefile.csv'
			},
			{
				name: "Phone Numbers",
				css: 'lead-phone',
				csv: '/somefile.csv'
			},
			{
				name: "Social Accounts",
				css: 'lead-social',
				csv: '/somefile.csv'
			},
			{
				name: "Addresses",
				css: 'lead-address',
				csv: '/somefile.csv'
			}
		];

		var leadHtml = $.map(leads, function(el, idx) {
			return [
				'<div class="lead ' + el.css + '">',
				'<div class="lead-title">' + el.name + '</div>',
				'<div class="lead-count">' + getRandomInt(100, 250) + '</div>',
				'<a class="btn btn-glyph-only btn-xsmall btn-download" href="/_resources/dyn/files/35859z271659/_fn/metric-data.csv"  title="Download Data"><span class="btn-text">Download</span></a>',
				'</div>'
			].join('');
		}).join('');

		$([
			'<div class="section leads">',
			'<div class="section-header">Leads</div>',
			'<div class="section-content">',
			'<div class="lead-summary">',
			leadHtml,
			'</div>',
			'</div>',
			'</div>'
		].join(''))
			.insertBefore($context.find('.section.goals'));


		$context.find('.section.goals').remove();
		$context.find('.user-management').remove();
	}

	if ($('.multiday-example-box1').length) {

		$('.section.market-intelligence').each(function() {
			var $con = $(this);

			React.render(
				<MultiDayEngagementData />,
				this
			);
		});


		$('.miwt-form').each(function() {
			tempUpdates(this);
		});
	}
});